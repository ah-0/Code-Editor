                       Python jedi


                     
اولا : الإكمال التلقائي 
‌نبدأ باستدعاء مكتبة jedi  ونستدعي منها كلاس Script
‌على النحو الآتي 
from jedi import Script
‌ الان نخزن الكود الخاص بنا في متغير على سبيل المثال

code = """
import os
print(os.

                                                                         """
‌ثم ننشئ متغير ونسند إليه الكلاس Script ونمرر للكلاس الكود الخاص بنا والمسار. على سبيل المثال
scr = Script(code, path="main.py")
‌لإكمال الكود يجب أن نستدعي الدالة complte من الكلاس Script
‌ ويجب أن نمرر لها قيمتين 
‌القيمه الاولى هو السطر الذي اريد فيه اكمال الكود 
‌ويجب أن تنتبه  أن رقم السطر يبدأ من 1 وليس 0

‌القيمة الثانية رقم الحرف التي تريد عنده اكمال الكود  مع العلم أن المسافة والرموز أيضا يعتبروا حروف
‌ويبدأ العد من 0 وليس 1

‌على سبيل المثال اريد اكمل print(os.
‌فهنا  يقع في السطر الخامس 5 رقم الحرف الذي اريد اكمال الكود عنده 8
‌فيصبح الكود على النحو الآتي 


compl = scr.complete(5 ، 8)
‌لكي أحصل على خيارات الإكمال التلقائي ننشئ حلقة تكرارية 

for i in compl:
‌ print(i.name) هنا سوف احصل على كلمة الاكمال التلقائي كاملة
‌print(i.complete) هنا سوف احصل على كمالة الإكمال الكملة فقط

‌print(i.docstring()) سوف احصل على شرح لهذه الكلمة 
‌print(i.get_line_code()) هنا سوف احصل على السطر الاساسي الذي يوجد فيه الكلمة 
‌print(i.full_name) هنا يتبين أنه العنصر من أي كلاس يعني يرجع مسار العنصر 
‌print(i.module_path) هنا يرجع مسار الملف الذي يوجد فيه الكلمة 
‌print(i.type)يرجع لي نوع الكلمة اذا كان كلاس  أو متغير
‌print(i.get_definition_start_position())يرجع لي السطر الاساس الذي يوجد فيه الكلمة

ثانيا : معرفة أخطاء بناء الجملة 
‌نفس الخطوات السابقة 
‌هنا يجب أن نستدعي get_syntax_errors() من الكلاس Script
errors = scr.get_syntax_errors()
fot i in errors:
‌print(i.line) السطر الذي يبدأ منه الخطأ
‌print(i.column) رقم الحرف الذي يبدأ منه الخطأ 
‌print(i.until_line) رقم السطر الذي ينتهي فيه الخطأ
‌print(i.until_column) رقم الحرف الذي ينتهي عنده الخطأ
‌print(i.get_message()) يرجع رسالة الخطأ

ثالثا: تحليل الكود ومعرفة الأخطاء 

‌لتحليل الكود  يجب استدعاء _analysis من الكلاس Script

analy = scr._analysis()
‌print(analy) سيطيع جميع القيم على شكل string
اذا كنت تريد الحصول على قيمة معينة 
for i in analy:
‌print(i.line) يرجع رقم السطر التي يوجد فيه الخطأ
‌print(i.column) يرجع رقم الحرف الذي يبدأ عنده الخطأ
‌print(i.path) يرجع مسار الملف الحالي
 print(i.message)يرجع رسالة الخطأ